[
  {
    "doctype": "Print Format",
    "name": "Payslip Indonesia Dynamic",
    "doc_type": "Salary Slip",
    "module": "Payroll Indonesia",
    "disabled": 0,
    "html": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>Slip Gaji - {{ doc.employee_name }}</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            font-size: 12px;\n            color: #333;\n            line-height: 1.5;\n        }\n        .header {\n            text-align: center;\n            margin-bottom: 20px;\n        }\n        .header img {\n            max-height: 60px;\n            margin-bottom: 10px;\n        }\n        .header h2 {\n            margin: 0;\n            color: #1a5276;\n        }\n        .slip-info {\n            border: 1px solid #ddd;\n            padding: 10px;\n            margin-bottom: 15px;\n            background-color: #f9f9f9;\n        }\n        .slip-info table {\n            width: 100%;\n        }\n        .employee-info {\n            width: 100%;\n            margin-bottom: 15px;\n        }\n        .employee-info td {\n            padding: 3px;\n            vertical-align: top;\n        }\n        .employee-info .label {\n            font-weight: bold;\n            width: 120px;\n        }\n        .salary-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 15px;\n        }\n        .salary-table th, .salary-table td {\n            border: 1px solid #ddd;\n            padding: 6px;\n            text-align: left;\n        }\n        .salary-table th {\n            background-color: #f2f2f2;\n            font-weight: bold;\n        }\n        .summary-table {\n            width: 60%;\n            margin-left: auto;\n            border-collapse: collapse;\n        }\n        .summary-table td {\n            padding: 5px;\n        }\n        .summary-table .total {\n            font-weight: bold;\n            border-top: 1px solid #ddd;\n        }\n        .summary-table .grand-total {\n            font-weight: bold;\n            font-size: 14px;\n            border-top: 2px solid #333;\n        }\n        .notes {\n            border: 1px solid #ddd;\n            padding: 10px;\n            margin-top: 15px;\n            background-color: #f9f9f9;\n        }\n        .notes h4 {\n            margin-top: 0;\n            color: #1a5276;\n        }\n        .signature {\n            margin-top: 30px;\n            text-align: right;\n        }\n        .highlight {\n            background-color: #fffde7;\n        }\n        .warning {\n            color: #c0392b;\n            font-weight: bold;\n        }\n        .manager-section {\n            background-color: #e8f4f8;\n            padding: 8px;\n            border-left: 3px solid #3498db;\n            margin-top: 10px;\n        }\n        .freelance-section {\n            background-color: #eafaf1;\n            padding: 8px;\n            border-left: 3px solid #2ecc71;\n            margin-top: 10px;\n        }\n        .december-correction {\n            background-color: #fdedec;\n            padding: 8px;\n            border-left: 3px solid #e74c3c;\n            margin-top: 10px;\n        }\n        .bpjs-section {\n            background-color: #ebf5fb;\n            padding: 8px;\n            border-left: 3px solid #3498db;\n            margin-top: 10px;\n        }\n        .tax-section {\n            background-color: #fef9e7;\n            padding: 8px;\n            border-left: 3px solid #f1c40f;\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <img src=\"{{ frappe.db.get_value('Company', doc.company, 'company_logo') }}\" alt=\"Logo Perusahaan\">\n        <h2>SLIP GAJI</h2>\n        <p>{{ doc.company }}</p>\n    </div>\n\n    <div class=\"slip-info\">\n        <table>\n            <tr>\n                <td><strong>Periode:</strong> {{ frappe.format_date(doc.start_date) }} s/d {{ frappe.format_date(doc.end_date) }}</td>\n                <td style=\"text-align: right;\"><strong>No. Slip:</strong> {{ doc.name }}</td>\n            </tr>\n        </table>\n    </div>\n\n    <table class=\"employee-info\">\n        <tr>\n            <td class=\"label\">Nama Karyawan</td>\n            <td>: {{ doc.employee_name }}</td>\n            <td class=\"label\">Departemen</td>\n            <td>: {{ doc.department or '' }}</td>\n        </tr>\n        <tr>\n            <td class=\"label\">ID Karyawan</td>\n            <td>: {{ doc.employee }}</td>\n            <td class=\"label\">Jabatan</td>\n            <td>: {{ frappe.db.get_value('Employee', doc.employee, 'jabatan') or doc.designation or '' }}</td>\n        </tr>\n        <tr>\n            <td class=\"label\">Status Pajak</td>\n            <td>: {{ frappe.db.get_value('Employee', doc.employee, 'status_pajak') or 'TK0' }}</td>\n            <td class=\"label\">Tipe Karyawan</td>\n            <td>: {{ frappe.db.get_value('Employee', doc.employee, 'tipe_karyawan') or 'Tetap' }}</td>\n        </tr>\n        <tr>\n            <td class=\"label\">NPWP</td>\n            <td>: {{ doc.npwp or 'Belum Ada' }}</td>\n            <td class=\"label\">Hari Kerja</td>\n            <td>: {{ doc.payment_days }} hari</td>\n        </tr>\n    </table>\n\n    {% set employee_type = frappe.db.get_value('Employee', doc.employee, 'tipe_karyawan') or 'Tetap' %}\n    {% set employee_position = frappe.db.get_value('Employee', doc.employee, 'jabatan') or doc.designation or '' %}\n    \n    {% if employee_type == 'Freelance' %}\n    <div class=\"freelance-section\">\n        <strong>Perhatian:</strong> Pajak penghasilan untuk karyawan freelance dikenakan PPh 21 Final.\n    </div>\n    {% endif %}\n    \n    {% if 'Manager' in employee_position %}\n    <div class=\"manager-section\">\n        <strong>Informasi Manager:</strong> Anda berhak atas tunjangan dan fasilitas khusus manager.\n    </div>\n    {% endif %}\n\n    <table class=\"salary-table\">\n        <tr>\n            <th style=\"width: 50%;\">Pendapatan</th>\n            <th style=\"width: 50%;\">Potongan</th>\n        </tr>\n        <tr>\n            <td style=\"vertical-align: top;\">\n                <table style=\"width: 100%;\">\n                    {% for earning in doc.earnings %}\n                        {% if earning.amount > 0 %}\n                            {% if earning.salary_component in ['Tunjangan Jabatan', 'Tunjangan Transport', 'Tunjangan Makan'] %}\n                                <tr class=\"highlight\">\n                            {% else %}\n                                <tr>\n                            {% endif %}\n                                <td style=\"width: 60%;\">{{ earning.salary_component }}</td>\n                                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(earning.amount, currency=doc.currency) }}</td>\n                            </tr>\n                        {% endif %}\n                    {% endfor %}\n                    {% if 'Manager' in employee_position %}\n                        {% for earning in doc.earnings %}\n                            {% if 'Bonus' in earning.salary_component and earning.amount > 0 %}\n                                <tr class=\"highlight\">\n                                    <td style=\"width: 60%;\"><strong>{{ earning.salary_component }} (Manager)</strong></td>\n                                    <td style=\"width: 40%; text-align: right;\"><strong>{{ frappe.utils.fmt_money(earning.amount, currency=doc.currency) }}</strong></td>\n                                </tr>\n                            {% endif %}\n                        {% endfor %}\n                    {% endif %}\n                </table>\n            </td>\n            <td style=\"vertical-align: top;\">\n                <table style=\"width: 100%;\">\n                    {% for deduction in doc.deductions %}\n                        {% if deduction.amount > 0 and deduction.salary_component not in ['PPh 21', 'BPJS Kesehatan', 'BPJS Ketenagakerjaan', 'BPJS JHT', 'BPJS JP'] %}\n                            <tr>\n                                <td style=\"width: 60%;\">{{ deduction.salary_component }}</td>\n                                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(deduction.amount, currency=doc.currency) }}</td>\n                            </tr>\n                        {% endif %}\n                    {% endfor %}\n                </table>\n            </td>\n        </tr>\n    </table>\n\n    {% if doc.total_bpjs > 0 %}\n    <div class=\"bpjs-section\">\n        <h4>Rincian BPJS</h4>\n        <table style=\"width: 100%;\">\n            {% if doc.kesehatan_employee > 0 %}\n            <tr>\n                <td style=\"width: 60%;\">BPJS Kesehatan</td>\n                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.kesehatan_employee, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n            \n            {% if doc.jht_employee > 0 %}\n            <tr>\n                <td style=\"width: 60%;\">BPJS JHT</td>\n                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.jht_employee, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n            \n            {% if doc.jp_employee > 0 %}\n            <tr>\n                <td style=\"width: 60%;\">BPJS JP</td>\n                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.jp_employee, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n            \n            <tr>\n                <td style=\"width: 60%;\"><strong>Total BPJS</strong></td>\n                <td style=\"width: 40%; text-align: right;\"><strong>{{ frappe.utils.fmt_money(doc.total_bpjs, currency=doc.currency) }}</strong></td>\n            </tr>\n        </table>\n    </div>\n    {% endif %}\n\n    <div class=\"tax-section\">\n        <h4>Rincian Pajak</h4>\n        \n        {% if doc.is_using_ter %}\n            <p><strong>Metode Pajak:</strong> TER (Tarif Efektif Rata-rata)</p>\n            <p><strong>Kategori TER:</strong> {{ doc.ter_category }}</p>\n            <p><strong>Rate TER:</strong> {{ doc.ter_rate }}%</p>\n            \n            {% if doc.monthly_gross_for_ter > 0 %}\n            <p><strong>Dasar Pengenaan TER:</strong> {{ frappe.utils.fmt_money(doc.monthly_gross_for_ter, currency=doc.currency) }}</p>\n            {% endif %}\n            \n        {% else %}\n            <p><strong>Metode Pajak:</strong> Progresif</p>\n            \n            {% if doc.biaya_jabatan > 0 %}\n            <p><strong>Biaya Jabatan:</strong> {{ frappe.utils.fmt_money(doc.biaya_jabatan, currency=doc.currency) }}</p>\n            {% endif %}\n            \n            {% if doc.netto > 0 %}\n            <p><strong>Penghasilan Netto:</strong> {{ frappe.utils.fmt_money(doc.netto, currency=doc.currency) }}</p>\n            {% endif %}\n        {% endif %}\n        \n        {% if doc.is_december_override and doc.koreksi_pph21 %}\n        <div class=\"december-correction\">\n            <p><strong>Koreksi PPh 21 Desember:</strong> {{ frappe.utils.fmt_money(doc.koreksi_pph21, currency=doc.currency) }}</p>\n            <p><small>*) Nilai ini merupakan hasil perhitungan koreksi pajak tahunan.</small></p>\n        </div>\n        {% endif %}\n        \n        <p><strong>PPh 21:</strong> {{ frappe.utils.fmt_money(doc.pph21, currency=doc.currency) }}</p>\n    </div>\n\n    <table class=\"summary-table\">\n        <tr>\n            <td style=\"width: 60%;\">Gaji Kotor</td>\n            <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.gross_pay, currency=doc.currency) }}</td>\n        </tr>\n        <tr>\n            <td>Total Potongan</td>\n            <td style=\"text-align: right;\">{{ frappe.utils.fmt_money(doc.total_deduction, currency=doc.currency) }}</td>\n        </tr>\n        <tr class=\"grand-total\">\n            <td>Take Home Pay</td>\n            <td style=\"text-align: right;\">{{ frappe.utils.fmt_money(doc.net_pay, currency=doc.currency) }}</td>\n        </tr>\n    </table>\n\n    {% if doc.payroll_note %}\n    <div class=\"notes\">\n        <h4>Catatan Payroll</h4>\n        <p>{{ doc.payroll_note }}</p>\n    </div>\n    {% endif %}\n\n    {% if doc.ytd_gross_pay > 0 or doc.ytd_bpjs_deductions > 0 %}\n    <div class=\"notes\">\n        <h4>Informasi Year-to-Date (YTD)</h4>\n        <table style=\"width: 100%;\">\n            {% if doc.ytd_gross_pay > 0 %}\n            <tr>\n                <td style=\"width: 60%;\">YTD Gross Pay</td>\n                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.ytd_gross_pay, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n            \n            {% if doc.ytd_bpjs_deductions > 0 %}\n            <tr>\n                <td style=\"width: 60%;\">YTD BPJS Deductions</td>\n                <td style=\"width: 40%; text-align: right;\">{{ frappe.utils.fmt_money(doc.ytd_bpjs_deductions, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n        </table>\n    </div>\n    {% endif %}\n\n    <div class=\"signature\">\n        <p>{{ frappe.utils.get_datetime(doc.posting_date).strftime('%d %B %Y') }}</p>\n        <br><br><br>\n        <p>____________________</p>\n        <p>{{ doc.company }}</p>\n    </div>\n</body>\n</html>\n",
    "print_format_type": "Jinja",
    "default": 0,
    "standard": "No"
  }
]
